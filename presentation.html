<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hymns and National Anthems</title>
    <link rel="stylesheet" href="Style/presentation.css" />
    <link rel="icon" type="image/png" href="Asset/img/bsu_logo.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
  </head>

  <body>
    <!--header-->
    <header class="top-bar">
      <img src="Asset/img/topbar.png" alt="BSU Logo" class="header-logo" />
    </header>
    <br /><br /><br /><br /><br />
    <div class="container">
      <div class="main-video">
        <h2 id="main-title">Select a Video</h2>
        <div class="download-links" id="main-downloads"></div>
        <video id="main-video" controls>
          <source src="" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <div class="rolling-oath" id="rolling-oath"></div>
        <div class="download-section">
          <div class="controls">
            <button id="prev-btn" onclick="prevVideo()" disabled>⬅</button>
            <button id="next-btn" onclick="nextVideo()">➡</button>
          </div>
        </div>
      </div>

      <div class="side-videos" id="video-list">
        <!-- Video items will be added dynamically -->
      </div>
    </div>

    <script>
      const items = [
        {
          type: "video",
          title: "Lupang Hinirang",
          videoSrc: "Asset/vids/1 - Lupang Hinirang.mp4",
          audioSrc: "Asset/audio/1 - Lupang Hinirang.mp3",
          lyricsSrc: "Asset/lyrics/Lupang Hinirang.pdf",
        },
        {
          type: "document",
          title: "Panunumpa Sa Watawat Ng Pilipinas",
          docSrc: "Asset/lyrics/Panunumpa Sa Watawat Ng Pilipinas.pdf",
          oathText: `"Ako ay Pilipino, <br><br>
                    taos pusong nanunumpa sa watawat ng Pilipinas, <br><br>
                    at sa bansang Kanyang sinasagisag <br><br>
                    na may dangal, katarungan at kalayaan; <br><br>
                    na pinakikilos ng sambayanang <br><br>
                    maka Diyos, makakalikasan, makatao, at makabansa."`,
        },
        {
          type: "document",
          title: "Panatang Makabayan",
          docSrc: "Asset/lyrics/Panatang Makabayan.pdf",
          oathText: `"Iniibig ko ang Pilipinas, <br><br>
                    aking lupang sinilangan, <br><br>
                    tahanan ng aking lahi; <br><br>
                    kinukupkop ako at tinutulungang <br><br>
                    maging malakas, masipag at marangal.<br><br>
                    Dahil mahal ko ang Pilipinas,<br><br>
                    diringgin ko ang payo <br><br>
                    ng aking magulang, <br><br>
                    susundin ko ang tuntunin ng paaralan,<br><br>
                    tutuparin ko ang tungkulin <br><br>
                    ng mamamayang makabayan:<br><br>
                    naglilingkod, nag-aaral at nagdarasal<br><br>
                    nang buong katapatan.<br><br>
                    Iaalay ko ang aking buhay,<br><br>
                    pangarap, pagsisikap <br><br>
                    sa bansang Pilipinas."`,
        },
        {
          type: "document",
          title: "Panata Ng Lingkod Bayan",
          docSrc: "Asset/lyrics/Panata Ng Lingkod Bayan.pdf",
          oathText: `"Ako ay isang lingkod bayan.<br><br>
                    Pangangalagaan ko ang tiwalang <br><br>
                    ipinagkaloob ng mamamayan. <br><br>
                    Maglilingkod ako nang may malasakit, <br><br>
                    katapatan, at kahusayan na walang kinikilingan. <br><br>

                    Magiging mabuting halimbawa ako, at <br><br>
                    magbibigay ng pag-asa at inspirasyon <br><br>
                    sa aking kapwa lingkod bayan. <br><br>
                    Lilinangin ko ang aking sariling <br><br>
                    kakayahan upang sa lahat ng panahon <br><br>
                    ay mapaglingkuran ko nang buong <br><br>
                    kahusayan ang sambayanan. <br><br>
                    Hindi ako makikibahagi sa mga <br><br>
                    katiwalian sa pamahalaan. <br><br>
                    Pipigilan at isisiwalat ko ito sa <br><br>
                    pamamagitan ng tama at angkop na pamamaraan. <br><br>

                    Isasabuhay ko ang isang lingkod <br><br>
                    bayang maka-Diyos, maka-tao, <br><br>
                    makakalikasan at makabansa. <br><br>
                    Tutugon ako sa mga hamon ng <br><br>
                    makabagong panahon tungo sa <br><br>
                    adhikain ng matatag, maginhawa, at panatag na buhay. <br><br>
                    Sa mga tungkulin at hangaring ito, <br><br>
                    kasihan nawa ako ng Maykapal."`,
        },
        {
          type: "document",
          title: "Panata Sa Bagong Pilipinas",
          docSrc: "Asset/lyrics/Panata Sa Bagong Pilipinas.pdf",
          oathText: `"Bilang Pilipino, buong pagmamalaki kong <br><br>
                      isasabuhay ang Bagong Pilipinas. <br><br>

                      Buhay sa aking dugo ang lahing dakila, <br><br>
                      magiting at may dangal <br><br>

                      Palaging dadalhin sa puso, isip at diwa ang <br><br>
                      aking pagmamahal sa kultura at bayang sinilangan; <br><br>

                      Kaisa ng bawat mamamayan, iaalay ko ang aking talino <br><br>
                      at kasanayan sa pagpapaunlad ng aking Bayan; <br><br>

                      Taglay ang galing na naaayon sa mga <br><br>
                      pandaigdigang pamantayan; <br><br>

                      Magiging instrumento ako sa pagsulong ng kagalingan, <br><br>
                      karunungan at kapayapaan. <br><br>

                      Makikiisa at makikilahok ako sa mga adhikain <br><br>
                      ng pamahalaan dahil ang kaunlaran ay <br><br>
                      hindi lamang responsibilidad ng iilan. <br><br>

                      Isusulong at pangangalagaan ko ang karangalan, <br><br>
                      kalayaan at interes ng aking bayang minamahal; <br><br>

                      Bilang Pilipino na may pagmamahal, pakialam at malasakit; <br><br>
                      hindi makasarili kundi para sa mas nakakarami; <br><br>
                      tatahakin ko ang landas tungo sa isang <br><br>
                      Bagong Pilipinas!"`,
        },
        {
          type: "video",
          title: "Bagong Pilipinas Hymn",
          videoSrc: "Asset/vids/2 - Bagong Pilipinas Hymn.mp4",
          audioSrc: "Asset/audio/2 - Bagong Pilipinas Hymn.mp3",
          lyricsSrc: "Asset/lyrics/BAGONG PILIPINAS HYMN.pdf",
        },
        {
          type: "video",
          title: "Lipeño Hymn",
          videoSrc: "Asset/vids/3 - Lipeño Hymn.mp4",
          audioSrc: "Asset/audio/3 - Lipeño Hymn.mp3",
          lyricsSrc: "Asset/lyrics/Lipeño Hymn.pdf",
        },
        {
          type: "video",
          title: "University Hymn",
          videoSrc: "Asset/vids/4 - BatStateU Hymn.mp4",
          audioSrc: "Asset/audio/4 - BatStateU Hymn.mp3",
          lyricsSrc: "Asset/lyrics/BatStateU Hymn.pdf",
        },
      ];

      let currentIndex = -1;

      function renderVideoList() {
        const videoList = document.getElementById("video-list");
        videoList.innerHTML = items
          .map(
            (item, index) => `
                <div class="song" id="song-${index}" onclick="changeMainItem(${index})">
                    ${
                      item.type === "video"
                        ? `<video disablePictureInPicture controlsList="nodownload nofullscreen">
                                <source src="${item.videoSrc}" type="video/mp4">
                              </video>`
                        : `<i class="fa-solid fa-file-pdf" style="font-size: 30px; color: red;"></i>`
                    }
                    <h3>${item.title}</h3>
                </div>
            `
          )
          .join("");
      }

      function changeMainItem(index) {
        let mainVideo = document.getElementById("main-video");
        let mainTitle = document.getElementById("main-title");
        let mainDownloads = document.getElementById("main-downloads");
        let rollingOath = document.getElementById("rolling-oath");
        let prevBtn = document.getElementById("prev-btn");
        let nextBtn = document.getElementById("next-btn");

        // Stop any playing video
        if (!mainVideo.paused) {
          mainVideo.pause();
        }

        // Remove 'active' class from all items
        document
          .querySelectorAll(".song")
          .forEach((song) => song.classList.remove("active"));

        // Add 'active' class to the selected item
        document.getElementById(`song-${index}`).classList.add("active");

        if (items[index].type === "video") {
          // Show video, hide text
          mainTitle.innerText = items[index].title;
          mainVideo.src = items[index].videoSrc;
          mainVideo.style.display = "block";
          rollingOath.style.display = "none";
          mainVideo.play();

          mainDownloads.innerHTML = `
            <a href="${items[index].videoSrc}" download>mp4</a>
            <a href="${items[index].audioSrc}" download>mp3</a>
            <a href="${items[index].lyricsSrc}" download>Lyrics</a>
        `;
        } else if (items[index].type === "document") {
          // Hide video, show rolling text
          mainTitle.innerText = items[index].title;
          mainVideo.style.display = "none";
          rollingOath.style.display = "block";

          // Remove extra spaces and format text properly
          let formattedOath = items[index].oathText.replace(/\s+/g, " ").trim();

          // Insert formatted oath text into a scrolling div
          rollingOath.innerHTML = `<div class="rolling-text">${formattedOath}</div>`;

          mainDownloads.innerHTML = `
            <a href="${items[index].docSrc}" download>Download PDF</a>
        `;
        }

        // Disable/Enable navigation buttons
        prevBtn.disabled = index === 0;
        nextBtn.disabled = index === items.length - 1;

        // Update current index
        currentIndex = index;
      }

      function prevVideo() {
        if (currentIndex > 0) {
          changeMainItem(currentIndex - 1);
        }
      }

      function nextVideo() {
        if (currentIndex < items.length - 1) {
          changeMainItem(currentIndex + 1);
        }
      }

      renderVideoList();

      // pause and resume of rolling oath
      document.addEventListener("DOMContentLoaded", function () {
        const rollingOath = document.getElementById("rolling-oath");
        const text = document.createElement("div");
        text.classList.add("rolling-text");
        rollingOath.appendChild(text);

        let isPaused = false;

        rollingOath.addEventListener("click", function () {
          if (isPaused) {
            text.style.animationPlayState = "running";
          } else {
            text.style.animationPlayState = "paused";
          }
          isPaused = !isPaused;
        });

        function setOathText(oath) {
          text.innerText = oath;
          rollingOath.style.display = "block";
        }
      });
    </script>
  </body>
</html>
